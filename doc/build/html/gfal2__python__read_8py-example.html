<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>gfal2-bindings: gfal2_python_read.py</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="examples.html"><span>Examples</span></a></li>
  </ul></div>
<h1>gfal2_python_read.py</h1>This exemple show how to open, write a file and read it after ex : use case with SRM plugin : ./gfal_testrw srm://grid05.lal.in2p3.fr:8446/dpm/lal.in2p3.fr/home/dteam/test_yoda<p>
<div class="fragment"><pre class="fragment"><span class="comment">#!/usr/bin/python</span>
<span class="comment"># -*- coding: utf-8 -*-</span>
<span class="comment">##</span>
<span class="comment"># Example : open/read/close a file with gfal 2.0</span>
<span class="comment">#</span>

<span class="keyword">import</span> sys
<span class="keyword">import</span> os
<span class="keyword">import</span> gfal2

max_size=10000000 <span class="comment"># maximum size to read</span>

<span class="comment">## main func</span>
<span class="keywordflow">if</span> __name__ == <span class="stringliteral">'__main__'</span>:
        <span class="comment"># comment for usage</span>
        <span class="keywordflow">if</span>(len(sys.argv) &lt; 2):
                <span class="keywordflow">print</span> <span class="stringliteral">"\nUsage\t %s [gfal_url] \n"</span>%(sys.argv[0])
                <span class="keywordflow">print</span> <span class="stringliteral">"    Example: %s lfn:/grid/dteam/myfile "</span>%(sys.argv[0])
                <span class="keywordflow">print</span> <span class="stringliteral">"             %s srm://myserver.com/myhome/myfile \n"</span>%(sys.argv[0])
                os._exit(1)
                
        <span class="comment"># open the file</span>
        f = gfal2.file(sys.argv[1], <span class="stringliteral">'</span><span class="stringliteral">r')</span>
<span class="stringliteral">        </span><span class="comment"># read the max_size first bytes.</span>
        content = f.read(max_size)
        <span class="keywordflow">print</span> content
        
        <span class="comment"># no close needed, done automatically with the destruction of the file handle</span>
</pre></div> <hr size="1"><address style="align: right;"><small>Generated on Tue Nov 1 16:10:18 2011 for gfal2-bindings by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
